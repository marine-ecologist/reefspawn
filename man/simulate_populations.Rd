% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/simulate_populations.R
\name{simulate_populations}
\alias{simulate_populations}
\title{Simulate Coral Population Layout from Posterior Predictions}
\usage{
simulate_populations(
  setplot,
  size,
  community,
  brms = posterior_coeffs_sizedistribution,
  return = "df",
  algorithm = "repel",
  ndraws = 20000,
  seed = NULL,
  quiet = TRUE,
  plot = FALSE,
  interactive = FALSE,
  ...
)
}
\arguments{
\item{setplot}{An \code{sf} polygon representing the area in which colonies will be positioned.}

\item{size}{A data frame containing \code{species} and size distribution (\code{area} or \code{width}).}

\item{community}{A data frame containing \code{species} and \code{aerial} (m²) coverage values.}

\item{brms}{A \code{brmsfit} object used to generate posterior predictions of colony size by species.}

\item{return}{Character. \code{"df"} returns the raw colony list; \code{"sf"} returns spatial polygons. Default: \code{"df"}.}

\item{algorithm}{Character. \code{"repel"} (default) or \code{"progressive"} — determines the circle packing layout method.}

\item{ndraws}{Integer. Number of posterior predictive draws to simulate. Default: 50000.}

\item{seed}{Optional integer for reproducibility of sampling and layout.}

\item{quiet}{verbose}

\item{plot}{Logical. If \code{TRUE}, renders a \code{tmap} plot of the resulting layout. Default: \code{FALSE}.}

\item{interactive}{Logical. If \code{TRUE}, renders a \code{tmap} interactive plot of the resulting layout. Default: \code{FALSE}.}
}
\value{
Either a data frame of simulated colonies (\code{df}) or an \code{sf} object of spatial polygons (\code{sf}) depending on \code{return}.
}
\description{
Generates a spatial coral population layout by drawing from a \code{brms}-fit model of colony sizes,
filtering to match aerial coverage constraints, and laying out colonies with optional circle packing.
}
\details{
\itemize{
\item Species names are harmonized using \code{fct_recode}.
\item Aerial coverage is enforced using cumulative area filtering.
\item \code{circleRepelLayout()} uses an iterative physics-based algorithm, while \code{circleProgressiveLayout()} is faster and approximate.
\item Coordinates are assigned using \code{sf::st_sample()} and radii are scaled to match overlap assumptions.
}
}
\examples{
\dontrun{
simulate_populations(setplot = myreef_sf, size = colony_data, community = community_df,
                     brms = size_model, return = "sf", algorithm = "repel", seed = 42, plot = TRUE)
}

}
